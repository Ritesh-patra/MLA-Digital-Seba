<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
    <title>Book Your Service | MLA Services</title>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF9933',
                        secondary: '#138808',
                        accent: '#3b82f6',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    },
                    boxShadow: {
                        'custom': '0 10px 25px -5px rgba(59, 130, 246, 0.1), 0 8px 10px -6px rgba(59, 130, 246, 0.1)',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
            100% {
                transform: translateY(0px);
            }
        }

        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        .input-field {
            @apply w-full px-4 py-3 mt-1 border border-gray-300 rounded-lg bg-white text-gray-700 transition-all duration-300 focus:ring-2 focus:ring-primary focus:border-primary focus:outline-none;
        }

        .input-field-readonly {
            @apply w-full px-4 py-3 mt-1 border border-gray-200 rounded-lg bg-gray-50 text-gray-700;
        }

        .form-label {
            @apply block text-gray-700 font-medium mb-1;
        }

        .success-checkmark {
            width: 80px;
            height: 80px;
            margin: 0 auto;
            position: relative;
        }

        .success-checkmark .check-icon {
            width: 80px;
            height: 80px;
            position: relative;
            border-radius: 50%;
            box-sizing: content-box;
            border: 4px solid #4CAF50;
        }

        .success-checkmark .check-icon::before {
            top: 3px;
            left: -2px;
            width: 30px;
            transform-origin: 100% 50%;
            border-radius: 100px 0 0 100px;
        }

        .success-checkmark .check-icon::after {
            top: 0;
            left: 30px;
            width: 60px;
            transform-origin: 0 50%;
            border-radius: 0 100px 100px 0;
            animation: rotate-circle 4.25s ease-in;
        }

        .success-checkmark .check-icon::before, .success-checkmark .check-icon::after {
            content: '';
            height: 100px;
            position: absolute;
            background: #FFFFFF;
            transform: rotate(-45deg);
        }

        .success-checkmark .check-icon .icon-line {
            height: 5px;
            background-color: #4CAF50;
            display: block;
            border-radius: 2px;
            position: absolute;
            z-index: 10;
        }

        .success-checkmark .check-icon .icon-line.line-tip {
            top: 46px;
            left: 14px;
            width: 25px;
            transform: rotate(45deg);
            animation: icon-line-tip 0.75s;
        }

        .success-checkmark .check-icon .icon-line.line-long {
            top: 38px;
            right: 8px;
            width: 47px;
            transform: rotate(-45deg);
            animation: icon-line-long 0.75s;
        }

        @keyframes icon-line-tip {
            0% {
                width: 0;
                left: 1px;
                top: 19px;
            }
            54% {
                width: 0;
                left: 1px;
                top: 19px;
            }
            70% {
                width: 50px;
                left: -8px;
                top: 37px;
            }
            84% {
                width: 17px;
                left: 21px;
                top: 48px;
            }
            100% {
                width: 25px;
                left: 14px;
                top: 46px;
            }
        }

        @keyframes icon-line-long {
            0% {
                width: 0;
                right: 46px;
                top: 54px;
            }
            65% {
                width: 0;
                right: 46px;
                top: 54px;
            }
            84% {
                width: 55px;
                right: 0px;
                top: 35px;
            }
            100% {
                width: 47px;
                right: 8px;
                top: 38px;
            }
        }
    </style>
</head>

<body class="bg-gradient-to-r from-blue-50 to-blue-200 min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow-md py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center">
                <img src="mla digital logo.png" alt="MLA Services Logo" class="h-10">
            </a>
            <nav>
                <a href="index.html" class="text-gray-600 hover:text-primary transition-colors flex items-center">
                    <i class="ri-home-line mr-1"></i> Back to Home
                </a>
            </nav>
        </div>
    </header>

    <div class="flex-grow flex items-center justify-center p-5">
        <div class="max-w-xl w-full">
            <!-- Main Form Card -->
            <div id="booking-card" class="bg-white shadow-custom rounded-2xl overflow-hidden">
                <!-- Form Header -->
                <div class="bg-gradient-to-r from-primary to-accent p-6 text-white relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mt-10 -mr-10"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -mb-12 -ml-12"></div>
                    
                    <h2 class="text-2xl font-bold relative z-10">Book Your Service</h2>
                    <p class="text-white/80 mt-1 relative z-10">Fill in the details to schedule your appointment</p>
                </div>

                <!-- Form Content -->
                <div class="p-8">
                    <form id="booking-form" action="send_booking.php" method="POST" class="space-y-6">
                        <!-- Service Details Section -->
                        <div class="bg-blue-50 p-4 rounded-lg mb-6">
                            <h3 class="text-blue-800 font-medium mb-3 flex items-center">
                                <i class="ri-information-line mr-2"></i> Service Details
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="form-label">Service Provider:</label>
                                    <input type="text" id="ServicesManname" name="ServicesManname" readonly value=""
                                        class="input-field-readonly">
                                </div>
                                <div>
                                    <label class="form-label">Service Category:</label>
                                    <input type="text" id="category" name="category" readonly value=""
                                        class="input-field-readonly">
                                </div>
                            </div>
                        </div>

                        <!-- Personal Information -->
                        <div>
                            <h3 class="text-gray-700 font-medium mb-3 flex items-center">
                                <i class="ri-user-line mr-2"></i> Personal Information
                            </h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="name" class="form-label">Full Name <span class="text-red-500">*</span></label>
                                    <input placeholder="Enter your full name" required type="text" id="name" name="name"
                                        class="input-field">
                                </div>
                                
                                <div>
                                    <label for="phone" class="form-label">Phone Number <span class="text-red-500">*</span></label>
                                    <div class="relative">
                                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500">+91</span>
                                        <input type="tel" id="phone" name="phone" required placeholder="Enter your phone number"
                                            class="input-field pl-12" pattern="[0-9]{10}" maxlength="10">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">We'll send confirmation to this number</p>
                                </div>
                                
                                <div>
                                    <label for="email" class="form-label">Email Address</label>
                                    <input type="email" id="email" name="email" placeholder="Enter your email (optional)"
                                        class="input-field">
                                </div>
                            </div>
                        </div>

                        <!-- Service Request -->
                        <div>
                            <h3 class="text-gray-700 font-medium mb-3 flex items-center">
                                <i class="ri-calendar-line mr-2"></i> Service Request
                            </h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="date" class="form-label">Preferred Date <span class="text-red-500">*</span></label>
                                    <input type="date" id="date" name="date" required
                                        class="input-field" min="">
                                </div>
                                
                                <div>
                                    <label for="time" class="form-label">Preferred Time <span class="text-red-500">*</span></label>
                                    <select id="time" name="time" required class="input-field">
                                        <option value="">Select a time slot</option>
                                        <option value="morning">Morning (9:00 AM - 12:00 PM)</option>
                                        <option value="afternoon">Afternoon (12:00 PM - 3:00 PM)</option>
                                        <option value="evening">Evening (3:00 PM - 6:00 PM)</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label for="address" class="form-label">Service Address <span class="text-red-500">*</span></label>
                                    <textarea id="address" name="address" required placeholder="Enter your complete address"
                                        class="input-field" rows="2"></textarea>
                                </div>
                                
                                <div>
                                    <label for="message" class="form-label">Additional Information</label>
                                    <textarea id="message" name="message" placeholder="Describe your issue or any special requirements..."
                                        class="input-field" rows="3"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Terms and Submit -->
                        <div class="pt-2">
                            <div class="flex items-start mb-4">
                                <input type="checkbox" id="terms" name="terms" required class="mt-1 mr-2">
                                <label for="terms" class="text-sm text-gray-600">
                                    I agree to the <a href="#" class="text-primary hover:underline">Terms of Service</a> and 
                                    <a href="#" class="text-primary hover:underline">Privacy Policy</a>
                                </label>
                            </div>
                            
                            <button type="submit"
                                class="w-full bg-primary hover:bg-orange-600 text-white py-3 px-6 rounded-lg transition duration-300 font-medium flex items-center justify-center">
                                <i class="ri-check-line mr-2"></i> Confirm Booking
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Success Card (Hidden by default) -->
            <div id="success-card" class="bg-white shadow-custom rounded-2xl overflow-hidden hidden">
                <div class="p-8 text-center">
                    <div class="success-checkmark">
                        <div class="check-icon">
                            <span class="icon-line line-tip"></span>
                            <span class="icon-line line-long"></span>
                        </div>
                    </div>
                    
                    <h2 class="text-2xl font-bold text-gray-800 mt-6">Booking Successful!</h2>
                    <p class="text-gray-600 mt-2 mb-6">
                        Your service has been booked successfully. We'll contact you shortly to confirm your appointment.
                    </p>
                    
                    <div id="booking-details" class="bg-gray-50 rounded-lg p-4 text-left mb-6">
                        <h3 class="font-medium text-gray-700 mb-2">Booking Details:</h3>
                        <ul class="space-y-1 text-sm">
                            <li><span class="text-gray-500">Service:</span> <span id="confirm-service"></span></li>
                            <li><span class="text-gray-500">Provider:</span> <span id="confirm-provider"></span></li>
                            <li><span class="text-gray-500">Date & Time:</span> <span id="confirm-datetime"></span></li>
                            <li><span class="text-gray-500">Booking ID:</span> <span id="booking-id"></span></li>
                        </ul>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <a href="index.html" class="bg-primary hover:bg-orange-600 text-white py-2 px-6 rounded-lg transition duration-300 font-medium">
                            Return to Home
                        </a>
                        <button id="new-booking-btn" class="bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 py-2 px-6 rounded-lg transition duration-300 font-medium">
                            Make Another Booking
                        </button>
                    </div>
                </div>
            </div>

            <!-- Help Section -->
            <div class="mt-6 bg-white shadow-md rounded-xl p-4 flex items-center">
                <div class="bg-blue-100 rounded-full p-3 mr-4">
                    <i class="ri-customer-service-2-line text-blue-600 text-xl"></i>
                </div>
                <div>
                    <h3 class="font-medium text-gray-800">Need help with your booking?</h3>
                    <p class="text-sm text-gray-600">Call us at <a href="tel:+919078161888" class="text-primary font-medium">+91 9078161888</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-4 mt-8">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>© 2025 MLA Services. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date').min = today;
            
            // Get the URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const serviceName = urlParams.get('serviceName') || 'Not specified';
            const category = urlParams.get('category') || 'Not specified';
            
            // Set the values in the form fields
            document.getElementById('ServicesManname').value = serviceName;
            document.getElementById('category').value = category;
            
            // Check if we're returning from a successful booking
            const success = urlParams.get('success');
            if (success === 'true') {
                // Show success card and hide booking form
                document.getElementById('booking-card').classList.add('hidden');
                document.getElementById('success-card').classList.remove('hidden');
                
                // Set confirmation details from URL parameters
                document.getElementById('confirm-service').textContent = urlParams.get('service') || '';
                document.getElementById('confirm-provider').textContent = urlParams.get('provider') || '';
                document.getElementById('confirm-datetime').textContent = 
                    (urlParams.get('date') || '') + ', ' + 
                    (urlParams.get('time') === 'morning' ? 'Morning (9:00 AM - 12:00 PM)' : 
                     urlParams.get('time') === 'afternoon' ? 'Afternoon (12:00 PM - 3:00 PM)' : 
                     urlParams.get('time') === 'evening' ? 'Evening (3:00 PM - 6:00 PM)' : '');
                document.getElementById('booking-id').textContent = urlParams.get('booking_id') || '';
            }
            
            // Add loading indicator to form submission
            document.getElementById('booking-form').addEventListener('submit', function() {
                const submitButton = this.querySelector('button[type="submit"]');
                submitButton.innerHTML = '<i class="ri-loader-4-line animate-spin mr-2"></i> Processing...';
                submitButton.disabled = true;
            });
            
            // Make another booking button
            document.getElementById('new-booking-btn').addEventListener('click', function() {
                document.getElementById('success-card').classList.add('hidden');
                document.getElementById('booking-card').classList.remove('hidden');
                
                // Clear URL parameters
                window.history.replaceState({}, document.title, window.location.pathname);
                
                // Scroll to top of booking form
                window.scrollTo({
                    top: document.getElementById('booking-card').offsetTop - 20,
                    behavior: 'smooth'
                });
            });
            
            // Phone number validation - only allow numbers
            document.getElementById('phone').addEventListener('input', function(e) {
                this.value = this.value.replace(/[^0-9]/g, '');
                if (this.value.length > 10) {
                    this.value = this.value.slice(0, 10);
                }
            });
        });
    </script>
</body>
</html>